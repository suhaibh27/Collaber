{"version":3,"sources":["./src/app/task/task-routing.module.ts","./src/app/task/task.module.ts","./src/app/task/task.page.scss","./src/app/task/task.page.html","./src/app/task/task.page.ts"],"names":[],"mappings":"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","file":"task-task-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { TaskPage } from './task.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TaskPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class TaskPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TaskPageRoutingModule } from './task-routing.module';\r\n\r\nimport { TaskPage } from './task.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TaskPageRoutingModule\r\n  ],\r\n  declarations: [TaskPage]\r\n})\r\nexport class TaskPageModule {}\r\n","export default \"#card-outline {\\n  height: 130px;\\n}\\n\\n#title {\\n  position: absolute;\\n  font-size: 17px;\\n  top: 2%;\\n}\\n\\n#creator {\\n  position: absolute;\\n  top: 37%;\\n  font-size: 17px;\\n}\\n\\n#more-details {\\n  position: absolute;\\n  bottom: 2%;\\n  font-size: 17px;\\n}\\n\\n#prg-title {\\n  font-size: 15px;\\n  padding: 0px;\\n  letter-spacing: 1px;\\n}\\n\\n#card-avatar {\\n  height: 70px;\\n  width: 70px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHRhc2sucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsYUFBYTtBQUNkOztBQUdBO0VBQ0ksa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixPQUFPO0FBQVg7O0FBRUE7RUFDSSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLGVBQWU7QUFDbkI7O0FBRUE7RUFDSSxrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLGVBQWU7QUFDbkI7O0FBRUE7RUFDSSxlQUFlO0VBQ2YsWUFBVztFQUNYLG1CQUFtQjtBQUN2Qjs7QUFDQTtFQUNJLFlBQVk7RUFDWixXQUFXO0FBRWYiLCJmaWxlIjoidGFzay5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY2FyZC1vdXRsaW5le1xyXG4gaGVpZ2h0OiAxMzBweDtcclxuICAgIFxyXG5cclxufVxyXG4jdGl0bGV7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBmb250LXNpemU6IDE3cHg7XHJcbiAgICB0b3A6IDIlO1xyXG59XHJcbiNjcmVhdG9ye1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAzNyU7XHJcbiAgICBmb250LXNpemU6IDE3cHg7XHJcblxyXG59XHJcbiNtb3JlLWRldGFpbHN7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IDIlO1xyXG4gICAgZm9udC1zaXplOiAxN3B4O1xyXG5cclxufVxyXG4jcHJnLXRpdGxle1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgcGFkZGluZzowcHg7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xyXG59XHJcbiNjYXJkLWF2YXRhcntcclxuICAgIGhlaWdodDogNzBweDtcclxuICAgIHdpZHRoOiA3MHB4O1xyXG59XHJcbiJdfQ== */\";","export default \"<ion-header>\\r\\n  <ion-toolbar class=\\\"myBackgroundColor\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button color='light' defaultHref=\\\"home\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title color=\\\"light\\\">{{name}}\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-margin-top\\\">\\r\\n  <ion-item>\\r\\n    <ion-text style=\\\"font-size: large;\\\" class=\\\"ion-margin\\\">Description: {{desc}}</ion-text>\\r\\n  </ion-item>\\r\\n  <div *ngIf=\\\"tasks.length<=0\\\" style=\\\"text-align: -webkit-center;height: 100%; padding-top: 50%; text-align-last: center;\\\">\\r\\n    <ion-text style=\\\"font-size: xx-large;\\\">\\r\\n          You Have No Tasks Here !\\r\\n    </ion-text>\\r\\n    <ion-button (click)='addTask()'>Add a Task here</ion-button>\\r\\n  </div>\\r\\n  <ion-list *ngFor=\\\"let item of tasks; let i = index\\\" lines=\\\"none\\\"> <!-- i will make this based on array in task.page.ts, change this and connect it to firestore -->\\r\\n    <ion-card id=\\\"card-outline\\\">\\r\\n        <!--you can change the task [color]=\\\"color\\\" based on the date from the database-->\\r\\n      <!-- i didnt do this because the date from firestore will have another formate so it is better to do it directly -->\\r\\n    <ion-grid>\\r\\n      <ion-row (click)='detail(item.id)'>\\r\\n        <ion-col size=\\\"3\\\">\\r\\n          <ion-avatar id=\\\"card-avatar\\\">\\r\\n            <ion-img src=\\\"..\\\\..\\\\assets\\\\icon\\\\logo.jpeg\\\"></ion-img>\\r\\n          </ion-avatar>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"9\\\">\\r\\n          <ion-text id=\\\"title\\\">Title: {{item.data().title}} </ion-text><br>\\r\\n          <ion-text>Due: {{this.toDateTime(item.data().dueDate).toString().slice(0,21)}}\\r\\n          </ion-text><ion-note *ngIf=\\\"isOverdue(this.toDateTime(item.data().dueDate))\\\" color='danger'>(Overdue)</ion-note>\\r\\n            <br>\\r\\n          <ion-text *ngIf=\\\"this.username[i]\\\"> Created By: {{this.username[i].username}}</ion-text><br>\\r\\n          <a routerLink='../task-details/{{item.id}}' id=\\\"more-details\\\"> View Task Details>> </a> <br>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <br>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"3\\\" id=\\\"prg-title\\\">Progress</ion-col>\\r\\n        <ion-col size=\\\"9\\\"> <ion-progress-bar color=\\\"success\\\" [value]=\\\"progress[i]\\\" id=\\\"prg-bar\\\"></ion-progress-bar></ion-col>\\r\\n      </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-card>\\r\\n  </ion-list>\\r\\n  <ion-fab *ngIf=\\\"tasks.length>0\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button (click)='addTask()'>\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n</ion-content>\\r\\n\";","import { PlanService } from './../plan.service';\r\n/* eslint-disable no-var */\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n/* eslint-disable prefer-const */\r\nimport { GroupsServiceService } from './../groups-service.service';\r\nimport { TasksService } from './../tasks.service';\r\n/* eslint-disable @typescript-eslint/type-annotation-spacing */\r\n/* eslint-disable @typescript-eslint/member-delimiter-style */\r\n/* eslint-disable @typescript-eslint/ban-types */\r\n/* eslint-disable max-len */\r\n/* eslint-disable @typescript-eslint/naming-convention */\r\n/* eslint-disable @typescript-eslint/quotes */\r\n/* eslint-disable @typescript-eslint/member-ordering */\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { LoadingController, RouterLinkDelegate } from '@ionic/angular';\r\n@Component({\r\n  selector: 'app-task',\r\n  templateUrl: './task.page.html',\r\n  styleUrls: ['./task.page.scss'],\r\n})\r\nexport class TaskPage implements OnInit {\r\n  tasks=[];\r\n  planId='ISjS0B7sqvjonjiZ3BQo';\r\n  username=[];\r\n  progress=[];\r\n  name='plan';\r\n  desc='';\r\n  plan;\r\n  constructor(private planSrv:PlanService, private router:Router, private activatedRoute:ActivatedRoute, private taskSrv: TasksService, private loadingController: LoadingController) {\r\n    this.planId=this.activatedRoute.snapshot.paramMap.get('id');\r\n    this.planSrv.getPlan(this.planId).subscribe(res=>{this.plan=res.data();this.name=this.plan.Title;this.desc=this.plan.Description;});\r\n    this.presentLoading();\r\n    this.taskSrv.getTasks(this.planId).subscribe(res=>{\r\n                                                  res.forEach(r=>\r\n                                                      {(this.tasks.push(r));this.tasks.forEach(\r\n                                                                                            (ros,index)=>{this.getUsername(ros.data().creator); this.progress.push(this.calcProgress(ros.id,index));});\r\n                                                                                            });\r\n    loadingController.dismiss();});\r\n   }\r\n  ngOnInit() {\r\n  }\r\n//for the date type it will differ from the firestore so you can use the best method to show DD-MM-YYYY in the tasks page\r\n  async presentLoading() {\r\n    const loading = await this.loadingController.create({\r\n      cssClass: 'my-custom-class',\r\n      message: 'Please wait...',\r\n      duration: 2000\r\n    });\r\n    await loading.present();\r\n\r\n    const { role, data } = await loading.onDidDismiss();\r\n    console.log('Loading dismissed!');\r\n  }\r\n  getUsername(id){\r\n    let name;\r\n    this.taskSrv.getuser(id).subscribe(res=>{this.username.push(res.data());});\r\n  }\r\n  calcProgress(id,index){\r\n    let count=0;\r\n    let finshed=0;\r\n    this.taskSrv.getSteps(id).subscribe(data=>{data.forEach(res=>{if(res.data().isFinished){finshed+=1;} count++;});this.progress[index]=finshed/count;});\r\n  }\r\n  detail(id){\r\n    this.router.navigateByUrl('task-details/'+id);\r\n  }\r\n  addTask(){\r\n    this.router.navigateByUrl('plan-form-next/'+this.planId);\r\n  }\r\n  toDateTime(secs) {\r\n    var t =secs.toDate();\r\n    return t;\r\n  }\r\n  isOverdue(d){\r\n    let now=new Date();\r\n    let due=new Date(d);\r\n    if(due<now){\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}